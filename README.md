# H·ªá th·ªëng Qu·∫£n l√Ω T√†i li·ªáu (DMS) - Genifast

## Gi·ªõi thi·ªáu

**DMS Genifast** l√† m·ªôt h·ªá th·ªëng qu·∫£n l√Ω t√†i li·ªáu m·∫°nh m·∫Ω v√† linh ho·∫°t, ƒë∆∞·ª£c x√¢y d·ª±ng ƒë·ªÉ gi√∫p c√°c t·ªï ch·ª©c v√† doanh nghi·ªáp s·∫Øp x·∫øp, l∆∞u tr·ªØ, v√† truy xu·∫•t t√†i li·ªáu m·ªôt c√°ch hi·ªáu qu·∫£. H·ªá th·ªëng t√≠ch h·ª£p c√°c t√≠nh nƒÉng t√¨m ki·∫øm n√¢ng cao b·∫±ng t·ª´ kh√≥a v√† ng√¥n ng·ªØ t·ª± nhi√™n, gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ thi·∫øu hi·ªáu qu·∫£ trong c√°c ph∆∞∆°ng ph√°p qu·∫£n l√Ω t√†i li·ªáu truy·ªÅn th·ªëng.

## T√≠nh nƒÉng ch√≠nh

H·ªá th·ªëng cung c·∫•p m·ªôt lo·∫°t c√°c t√≠nh nƒÉng ƒë∆∞·ª£c ph√¢n chia theo vai tr√≤ ng∆∞·ªùi d√πng:

### üë§ **Qu·∫£n tr·ªã vi√™n (Admin)**

  * **Qu·∫£n l√Ω H·ªá th·ªëng:** To√†n quy·ªÅn c·∫•u h√¨nh v√† gi√°m s√°t h·ªá th·ªëng.
  * **Qu·∫£n l√Ω T·ªï ch·ª©c:** Ph√™ duy·ªát/t·ª´ ch·ªëi y√™u c·∫ßu t·∫°o t·ªï ch·ª©c m·ªõi, v√¥ hi·ªáu h√≥a ho·∫∑c x√≥a t·ªï ch·ª©c.
  * **Qu·∫£n l√Ω Ng∆∞·ªùi d√πng:** Qu·∫£n l√Ω t√†i kho·∫£n ng∆∞·ªùi d√πng, ph√¢n quy·ªÅn qu·∫£n tr·ªã. (Ch∆∞a th·ª±c hi·ªán)
  * **Qu·∫£n l√Ω S·∫£n ph·∫©m:** T·∫°o v√† qu·∫£n l√Ω c√°c g√≥i d·ªãch v·ª• (v√≠ d·ª•: dung l∆∞·ª£ng l∆∞u tr·ªØ) ƒë·ªÉ b√°n cho c√°c t·ªï ch·ª©c.
  * **Qu·∫£n l√Ω Giao d·ªãch:** Theo d√µi v√† qu·∫£n l√Ω c√°c giao d·ªãch mua b√°n trong h·ªá th·ªëng. (Ch∆∞a th·ª±c hi·ªán)

### üè¢ **Qu·∫£n l√Ω T·ªï ch·ª©c (Organization Manager)**

  * **Qu·∫£n l√Ω Th√¥ng tin T·ªï ch·ª©c:** Ch·ªânh s·ª≠a th√¥ng tin chi ti·∫øt c·ªßa t·ªï ch·ª©c.
  * **Qu·∫£n l√Ω Ph√≤ng ban:** T·∫°o, s·ª≠a, x√≥a ph√≤ng ban v√† g√°n/b√£i nhi·ªám vai tr√≤ qu·∫£n l√Ω ph√≤ng ban.
  * **Qu·∫£n l√Ω Th√†nh vi√™n:** M·ªùi/x√≥a th√†nh vi√™n kh·ªèi t·ªï ch·ª©c, g√°n/b√£i nhi·ªám vai tr√≤ qu·∫£n l√Ω t·ªï ch·ª©c cho th√†nh vi√™n kh√°c.
  * **Mua D·ªãch v·ª•:** Mua th√™m c√°c g√≥i s·∫£n ph·∫©m (v√≠ d·ª•: dung l∆∞·ª£ng) cho t·ªï ch·ª©c. (Ch∆∞a th·ª±c hi·ªán)

### üë• **Qu·∫£n l√Ω Ph√≤ng ban (Department Manager)**

  * **Qu·∫£n l√Ω Th∆∞ m·ª•c (Category):** T·∫°o, s·ª≠a, x√≥a c√°c th∆∞ m·ª•c trong ph√≤ng ban c·ªßa m√¨nh.
  * **Qu·∫£n l√Ω T√†i li·ªáu:** T·∫£i l√™n, ch·ªânh s·ª≠a, chia s·∫ª v√† qu·∫£n l√Ω c√°c t√†i li·ªáu thu·ªôc ph√≤ng ban.

### üßë‚Äçüíª **Ng∆∞·ªùi d√πng (User)**

  * **X√°c th·ª±c:** ƒêƒÉng k√Ω, ƒëƒÉng nh·∫≠p (qua email/m·∫≠t kh·∫©u ho·∫∑c t√†i kho·∫£n social), ƒë·ªïi m·∫≠t kh·∫©u, v√† ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u.
  * **Qu·∫£n l√Ω H·ªì s∆°:** Xem v√† c·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n. (Ch∆∞a th·ª±c hi·ªán)
  * **Qu·∫£n l√Ω T√†i li·ªáu:**
      * Xem, t·∫£i xu·ªëng, b√¨nh lu·∫≠n, v√† ƒë√°nh d·∫•u sao c√°c t√†i li·ªáu m√† h·ªç c√≥ quy·ªÅn truy c·∫≠p. (Ch∆∞a th·ª±c hi·ªán)
      * Chia s·∫ª t√†i li·ªáu v·ªõi ng∆∞·ªùi d√πng kh√°c. (Ch∆∞a th·ª±c hi·ªán)
      * T√¨m ki·∫øm t√†i li·ªáu b·∫±ng t·ª´ kh√≥a, si√™u d·ªØ li·ªáu (metadata), v√† ng√¥n ng·ªØ t·ª± nhi√™n.
  * **Tham gia T·ªï ch·ª©c:** Ch·∫•p nh·∫≠n l·ªùi m·ªùi ƒë·ªÉ tham gia v√†o m·ªôt t·ªï ch·ª©c.

## C√¥ng ngh·ªá s·ª≠ d·ª•ng

  * **Backend:** Java 17, Spring Boot 3.3
  * **Database:** PostgreSQL
  * **Security:** Spring Security, JWT (JSON Web Tokens)
  * **ORM:** Spring Data JPA (Hibernate)
  * **Mapping:** MapStruct
  * **API Documentation:** OpenAPI (Swagger)
  * **Build Tool:** Maven

## H∆∞·ªõng d·∫´n C√†i ƒë·∫∑t v√† Ch·∫°y d·ª± √°n

### Y√™u c·∫ßu

  * JDK 17 ho·∫∑c cao h∆°n
  * Maven 3.8+
  * PostgreSQL

### C√°c b∆∞·ªõc c√†i ƒë·∫∑t

1.  **Clone repository:**

    ```bash
    git clone https://github.com/hoangkhang5207/dms-backend.git
    cd dms-backend
    ```

2.  **C·∫•u h√¨nh Database:**

      * T·∫°o m·ªôt database m·ªõi trong PostgreSQL (v√≠ d·ª•: `genifast`).
      * M·ªü file `src/main/resources/application.properties` v√† c·∫≠p nh·∫≠t c√°c th√¥ng tin k·∫øt n·ªëi cho ph√π h·ª£p:
        ```properties
        spring.datasource.url=jdbc:postgresql://localhost:5432/genifast
        spring.datasource.username=your_postgres_username
        spring.datasource.password=your_postgres_password
        ```

3.  **C·∫•u h√¨nh Email Server:**

      * ƒê·ªÉ c√°c t√≠nh nƒÉng nh∆∞ x√°c th·ª±c email, m·ªùi th√†nh vi√™n, ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u ho·∫°t ƒë·ªông, c·∫ßn c·∫•u h√¨nh SMTP server. D·ª± √°n ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh s·∫µn ƒë·ªÉ s·ª≠ d·ª•ng Gmail.
      * M·ªü file `src/main/resources/application.properties` v√† thay ƒë·ªïi th√¥ng tin:
        ```properties
        spring.mail.username=your_email@gmail.com
        spring.mail.password=your_gmail_app_password
        ```
      * **L∆∞u √Ω:** C·∫ßn t·∫°o "M·∫≠t kh·∫©u ·ª©ng d·ª•ng" (App Password) cho t√†i kho·∫£n Gmail thay v√¨ s·ª≠ d·ª•ng m·∫≠t kh·∫©u ƒëƒÉng nh·∫≠p th√¥ng th∆∞·ªùng.

4.  **Build v√† Ch·∫°y ·ª©ng d·ª•ng:**

      * S·ª≠ d·ª•ng Maven Wrapper ƒë∆∞·ª£c cung c·∫•p s·∫µn ƒë·ªÉ build v√† ch·∫°y d·ª± √°n:
        ```bash
        # Tr√™n Windows
        ./mvnw spring-boot:run

        # Tr√™n macOS/Linux
        ./mvnw spring-boot:run
        ```
      * ·ª®ng d·ª•ng s·∫Ω kh·ªüi ƒë·ªông v√† ch·∫°y t·∫°i `http://localhost:8080`.

5.  **Truy c·∫≠p API Documentation:**

      * Sau khi kh·ªüi ƒë·ªông th√†nh c√¥ng, truy c·∫≠p giao di·ªán Swagger UI ƒë·ªÉ xem t√†i li·ªáu API chi ti·∫øt v√† t∆∞∆°ng t√°c v·ªõi c√°c endpoint:
        `http://localhost:8080/swagger-ui.html`

## V√≠ d·ª• v·ªÅ c√°c Endpoint API

D∆∞·ªõi ƒë√¢y l√† m·ªôt s·ªë v√≠ d·ª• v·ªÅ c√°c request/response JSON cho c√°c t√≠nh nƒÉng ch√≠nh.

### 1\. X√°c th·ª±c (Authentication)

#### ƒêƒÉng k√Ω t√†i kho·∫£n

  * **Endpoint:** `POST /api/v1/auth/signup`
  * **Request Body:**
    ```json
    {
      "first_name": "Khang",
      "last_name": "Hoang",
      "email": "khang@example.com",
      "password": "Password@123",
      "gender": false
    }
    ```
  * **Success Response (201 CREATED):**
    ```
    User registered successfully. Please check your email to verify your account.
    ```

#### ƒêƒÉng nh·∫≠p

  * **Endpoint:** `POST /api/v1/auth/login`
  * **Request Body:**
    ```json
    {
      "email": "khang@example.com",
      "password": "Password@123"
    }
    ```
  * **Success Response (200 OK):**
    ```json
    {
      "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
      "refresh_token": "aBcDeFgHiJkLmNoPqRsTuVwXyZ..."
    }
    ```

### 2\. Qu·∫£n l√Ω T·ªï ch·ª©c (Organization)

#### T·∫°o y√™u c·∫ßu th√†nh l·∫≠p T·ªï ch·ª©c

  * **Endpoint:** `POST /api/v1/organizations`
  * **Y√™u c·∫ßu:** C·∫ßn c√≥ `Authorization: Bearer <access_token>` trong header.
  * **Request Body:**
    ```json
    {
      "name": "My New Tech Corp",
      "description": "A corporation for developing new technology.",
      "is_openai": false
    }
    ```
  * **Success Response (201 CREATED):**
    ```json
    {
      "id": 1,
      "name": "My New Tech Corp",
      "description": "A corporation for developing new technology.",
      "status": 0,
      "is_openai": false,
      "limit_data": 10737418240,
      "data_used": 0,
      "limit_token": null,
      "token_used": null,
      "percent_data_used": 0,
      "created_at": "2025-07-24T15:30:00.123456",
      "created_by": "khang@example.com",
      "updated_at": "2025-07-24T15:30:00.123456",
      "updated_by": null
    }
    ```

### 3\. Qu·∫£n l√Ω T√†i li·ªáu (Document)

#### T·∫£i l√™n T√†i li·ªáu m·ªõi

  * **Endpoint:** `POST /api/v1/documents`
  * **Y√™u c·∫ßu:** `Content-Type: multipart/form-data` v√† `Authorization: Bearer <access_token>` header.
  * **Form Data:**
      * `metadata` (part):
        ```json
        {
          "title": "Project Proposal Q3",
          "description": "Detailed proposal for the third quarter.",
          "category_id": 5,
          "access_type": 2
        }
        ```
      * `file` (part): N·ªôi dung file (v√≠ d·ª•: `proposal.pdf`)
  * **Success Response (201 CREATED):**
    ```json
    {
      "id": 101,
      "title": "Project Proposal Q3",
      "description": "Detailed proposal for the third quarter.",
      "status": 1,
      "type": "pdf",
      "access_type": 2,
      "category_id": 5,
      "department_id": 2,
      "organization_id": 1,
      "original_filename": "proposal.pdf",
      "storage_unit": "1.2 MB",
      "file_path": "unique_file_id_proposal.pdf",
      "created_by": "khang@example.com",
      "created_at": "2025-07-24T15:45:00.987654Z",
      "updated_at": "2025-07-24T15:45:00.987654Z"
    }
    ```

## T√°c gi·∫£

  * **T√™n:** Ho√†ng Khang
  * **Email:** hoangkhang16112003@gmail.com
  * **GitHub:** [https://github.com/HoangKhang5207](https://github.com/HoangKhang5207)
